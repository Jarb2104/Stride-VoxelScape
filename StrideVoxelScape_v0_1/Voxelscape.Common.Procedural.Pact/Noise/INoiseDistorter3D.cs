using System.Diagnostics;
using Voxelscape.Utility.Common.Pact.Diagnostics;

namespace Voxelscape.Common.Procedural.Pact.Noise
{
	/// <summary>
	/// Defines a type used to distort the density values generated by an <see cref="INoise3D"/> instance.
	/// </summary>
	public interface INoiseDistorter3D : INoiseDistorter2D
	{
		/// <summary>
		/// Distorts the density value generated by the specified noise function for the given point.
		/// </summary>
		/// <param name="sourceNoise">The original source of the noise to distort.</param>
		/// <param name="x">X value of the input point.</param>
		/// <param name="y">Y value of the input point.</param>
		/// <param name="z">Z value of the input point.</param>
		/// <returns>The distorted density value.</returns>
		double Noise(INoise3D sourceNoise, double x, double y, double z);
	}

	public static class INoiseDistorter3DContracts
	{
		[Conditional(Contracts.Requires.CompilationSymbol)]
		public static void Noise(INoise3D sourceNoise)
		{
			Contracts.Requires.That(sourceNoise != null);
		}
	}
}
